<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swasthya Chetna - Health & Finance Quiz</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #1f2937;
            --light: #f9fafb;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh;
            padding: 10px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            color: #fff;
            padding: 20px 0;
            margin-bottom: 20px;
        }
        
        header h1 {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            text-shadow: 2px 2px 4px rgba(0,0,0,.2);
            margin-bottom: 8px;
        }
        
        header p {
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            opacity: 0.95;
        }
        
        .admin-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .admin-toggle:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }
        
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
            animation: fadeIn 0.4s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            background: #fff;
            border-radius: 20px;
            padding: clamp(20px, 5vw, 40px);
            box-shadow: 0 20px 60px rgba(0,0,0,.3);
            margin-bottom: 20px;
        }
        
        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .cat-btn {
            padding: 30px 20px;
            border: none;
            border-radius: 20px;
            font-size: clamp(1rem, 3vw, 1.2rem);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0,0,0,.1);
        }
        
        .cat-btn:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 25px rgba(0,0,0,.2);
        }
        
        .cat-btn.health {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            color: #155724;
        }
        
        .cat-btn.finance {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #7c2d12;
        }
        
        .cat-btn.mixed {
            background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
            color: #1e40af;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        #progress {
            height: 100%;
            background: linear-gradient(90deg, var(--success), var(--primary));
            transition: width 0.4s ease;
            border-radius: 10px;
        }
        
        .quiz-header {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            font-weight: 600;
            font-size: clamp(0.9rem, 2.5vw, 1rem);
        }
        
        .badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: clamp(0.75rem, 2vw, 0.85rem);
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .badge.health { background: #d4edda; color: #155724; }
        .badge.finance { background: #d1ecf1; color: #0c5460; }
        
        #question {
            margin-bottom: 25px;
            color: var(--dark);
            font-size: clamp(1.1rem, 3vw, 1.5rem);
            line-height: 1.6;
        }
        
        #options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .option {
            padding: 18px;
            border: 3px solid #e5e7eb;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            background: #f9fafb;
        }
        
        .option:hover {
            border-color: var(--primary);
            background: #f0f4ff;
            transform: translateX(5px);
        }
        
        .option.selected {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            font-weight: 600;
        }
        
        .controls {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .controls button {
            flex: 1;
            min-width: 120px;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            cursor: pointer;
            background: var(--primary);
            color: #fff;
            transition: all 0.3s;
        }
        
        .controls button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
        
        .controls button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .controls button.secondary {
            background: #6b7280;
        }
        
        .controls button.success {
            background: var(--success);
        }
        
        .result-icon {
            font-size: clamp(3rem, 10vw, 5rem);
            text-align: center;
            margin-bottom: 20px;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .stats div {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }
        
        .stats span {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            font-weight: 700;
            color: var(--primary);
            display: block;
        }
        
        .stats p {
            color: #6b7280;
            margin-top: 10px;
            font-size: clamp(0.85rem, 2vw, 1rem);
        }
        
        #message {
            background: #f9fafb;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
        }
        
        .back-btn {
            background: #6b7280;
            color: #fff;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            margin-bottom: 20px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .back-btn:hover {
            background: #4b5563;
            transform: scale(1.05);
        }
        
        .review-item {
            background: #fff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,.1);
        }
        
        .review-item.correct { border-left: 5px solid var(--success); }
        .review-item.incorrect { border-left: 5px solid var(--danger); }
        
        .review-item h3 {
            margin-bottom: 12px;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
        }
        
        .review-item .ans {
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
            font-size: clamp(0.9rem, 2vw, 1rem);
        }
        
        .review-item .wrong { background: #fee2e2; color: #991b1b; }
        .review-item .right { background: #d1fae5; color: #065f46; }
        .review-item .exp {
            background: #f9fafb;
            padding: 12px;
            border-radius: 8px;
            margin-top: 10px;
            font-style: italic;
            font-size: clamp(0.85rem, 2vw, 0.95rem);
        }
        
        /* Admin Panel Styles */
        .admin-panel {
            background: #fff;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,.3);
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .admin-header h2 {
            color: var(--dark);
            font-size: clamp(1.5rem, 4vw, 2rem);
        }
        
        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .tab-btn {
            padding: 12px 24px;
            border: 2px solid #e5e7eb;
            background: #fff;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .tab-btn.active {
            background: var(--primary);
            color: #fff;
            border-color: var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .option-inputs {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .option-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .option-input-group input[type="radio"] {
            width: auto;
        }
        
        .option-input-group input[type="text"] {
            flex: 1;
        }
        
        .btn-primary {
            background: var(--primary);
            color: #fff;
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        .btn-primary:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
        
        .question-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .question-item {
            background: #f9fafb;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--primary);
        }
        
        .question-item h4 {
            color: var(--dark);
            margin-bottom: 10px;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
        }
        
        .question-item .meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .question-item .actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-small {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .btn-edit {
            background: var(--warning);
            color: #fff;
        }
        
        .btn-delete {
            background: var(--danger);
            color: #fff;
        }
        
        .btn-small:hover {
            transform: scale(1.05);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: #fff;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }
        
        .stat-card h3 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .stat-card p {
            opacity: 0.9;
        }
        
        @media (max-width: 768px) {
            .admin-toggle {
                top: 10px;
                right: 10px;
                padding: 8px 16px;
                font-size: 0.9rem;
            }
            
            .categories {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .controls button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <button class="admin-toggle" onclick="toggleAdmin()">‚öôÔ∏è Admin</button>
    
    <div class="container">
        <header>
            <h1>üè•üí∞ Swasthya Chetna Quiz</h1>
            <p>Test Your Health & Finance Knowledge</p>
        </header>

        <!-- Home Screen -->
        <div id="home" class="screen active">
            <div class="card">
                <h2 style="margin-bottom: 10px;">Choose a Category</h2>
                <p style="color: #6b7280; margin-bottom: 20px;">Select a quiz category to test your knowledge</p>
                <div class="categories">
                    <button onclick="startQuiz('health')" class="cat-btn health">
                        üè•<br>Health Quiz<br>
                        <small style="font-size: 0.85rem; opacity: 0.8;">10 Questions</small>
                    </button>
                    <button onclick="startQuiz('finance')" class="cat-btn finance">
                        üí∞<br>Finance Quiz<br>
                        <small style="font-size: 0.85rem; opacity: 0.8;">10 Questions</small>
                    </button>
                    <button onclick="startQuiz('mixed')" class="cat-btn mixed">
                        üéØ<br>Mixed Quiz<br>
                        <small style="font-size: 0.85rem; opacity: 0.8;">10 Questions</small>
                    </button>
                </div>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz" class="screen">
            <div class="progress-bar"><div id="progress"></div></div>
            <div class="card">
                <div class="quiz-header">
                    <span id="qNum">Question 1/10</span>
                    <span id="score">Score: 0</span>
                </div>
                <span id="badge" class="badge">Health</span>
                <h2 id="question"></h2>
                <div id="options"></div>
                <div class="controls">
                    <button onclick="prev()" id="prevBtn" class="secondary" disabled>‚Üê Previous</button>
                    <button onclick="next()" id="nextBtn" disabled>Next ‚Üí</button>
                    <button onclick="submit()" id="submitBtn" class="success" style="display:none">Submit Quiz</button>
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results" class="screen">
            <div class="card">
                <div class="result-icon" id="icon">üéâ</div>
                <h2 style="text-align: center; margin-bottom: 20px;">Quiz Complete!</h2>
                <div class="stats">
                    <div><span id="finalScore">0</span><p>Total Score</p></div>
                    <div><span id="correct">0/10</span><p>Correct Answers</p></div>
                    <div><span id="accuracy">0%</span><p>Accuracy</p></div>
                </div>
                <p id="message"></p>
                <div class="controls">
                    <button onclick="review()">üìã Review Answers</button>
                    <button onclick="restart()" class="success">üîÑ Take Another Quiz</button>
                </div>
            </div>
        </div>

        <!-- Review Screen -->
        <div id="review-screen" class="screen">
            <button onclick="backToResults()" class="back-btn">‚Üê Back to Results</button>
            <div id="reviewList"></div>
        </div>

        <!-- Admin Panel -->
        <div id="admin" class="screen">
            <div class="admin-panel">
                <div class="admin-header">
                    <h2>üìä Quiz Management</h2>
                    <button onclick="toggleAdmin()" class="back-btn">‚Üê Back to Quiz</button>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="healthCount">0</h3>
                        <p>Health Questions</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="financeCount">0</h3>
                        <p>Finance Questions</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="totalCount">0</h3>
                        <p>Total Questions</p>
                    </div>
                </div>
                
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchTab('add')">‚ûï Add Question</button>
                    <button class="tab-btn" onclick="switchTab('manage-health')">üè• Manage Health</button>
                    <button class="tab-btn" onclick="switchTab('manage-finance')">üí∞ Manage Finance</button>
                </div>
                
                <!-- Add Question Tab -->
                <div id="tab-add" class="tab-content active">
                    <form onsubmit="addQuestion(event)">
                        <div class="form-group">
                            <label>Category *</label>
                            <select id="newCategory" required>
                                <option value="health">Health</option>
                                <option value="finance">Finance</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Question *</label>
                            <input type="text" id="newQuestion" required placeholder="Enter your question">
                        </div>
                        
                        <div class="form-group">
                            <label>Options * (Select the correct answer)</label>
                            <div class="option-inputs">
                                <div class="option-input-group">
                                    <input type="radio" name="correct" value="0" required>
                                    <input type="text" id="opt0" required placeholder="Option 1">
                                </div>
                                <div class="option-input-group">
                                    <input type="radio" name="correct" value="1">
                                    <input type="text" id="opt1" required placeholder="Option 2">
                                </div>
                                <div class="option-input-group">
                                    <input type="radio" name="correct" value="2">
                                    <input type="text" id="opt2" required placeholder="Option 3">
                                </div>
                                <div class="option-input-group">
                                    <input type="radio" name="correct" value="3">
                                    <input type="text" id="opt3" required placeholder="Option 4">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Explanation *</label>
                            <textarea id="newExplanation" required placeholder="Explain why this is the correct answer"></textarea>
                        </div>
                        
                        <button type="submit" class="btn-primary">Add Question</button>
                    </form>
                </div>
                
                <!-- Manage Health Tab -->
                <div id="tab-manage-health" class="tab-content">
                    <div id="healthQuestions" class="question-list"></div>
                </div>
                
                <!-- Manage Finance Tab -->
                <div id="tab-manage-finance" class="tab-content">
                    <div id="financeQuestions" class="question-list"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize quiz data from localStorage or use defaults
        let quizData = JSON.parse(localStorage.getItem('quizData')) || {
            health: [
                {q: 'How many hours of sleep do adults need per night?', o: ['4-5 hours', '6-7 hours', '7-9 hours', '10-12 hours'], c: 2, e: 'Adults need 7-9 hours for optimal health.'},
                {q: 'Recommended daily water intake for adults?', o: ['1-2 liters', '2-3 liters', '4-5 liters', '6-7 liters'], c: 1, e: '2-3 liters (8-10 glasses) per day.'},
                {q: 'Which vitamin is obtained from sunlight?', o: ['Vitamin A', 'Vitamin C', 'Vitamin D', 'Vitamin E'], c: 2, e: 'Vitamin D is synthesized from sunlight.'},
                {q: 'Ideal exercise frequency per week?', o: ['1-2 days', '3-5 days', 'Every day', 'Once a week'], c: 1, e: '150 minutes across 3-5 days recommended.'},
                {q: 'Which is considered good cholesterol?', o: ['LDL', 'HDL', 'Triglycerides', 'VLDL'], c: 1, e: 'HDL removes bad cholesterol from bloodstream.'},
                {q: 'Normal resting heart rate for adults?', o: ['40-50 bpm', '60-100 bpm', '110-120 bpm', '130-140 bpm'], c: 1, e: '60-100 bpm is normal for adults.'},
                {q: 'Primary energy source for the body?', o: ['Proteins', 'Fats', 'Carbohydrates', 'Vitamins'], c: 2, e: 'Carbs are broken down to glucose for energy.'},
                {q: 'Daily servings of fruits & vegetables?', o: ['1-2 servings', '3-4 servings', '5+ servings', 'No limit'], c: 2, e: 'At least 5 servings recommended daily.'},
                {q: 'Common symptom of dehydration?', o: ['More energy', 'Dark yellow urine', 'Better focus', 'Lower temperature'], c: 1, e: 'Dark urine indicates dehydration.'},
                {q: 'What does BMI measure?', o: ['Blood sugar', 'Body fat %', 'Weight vs height', 'Bone density'], c: 2, e: 'BMI is weight relative to height.'}
            ],
            finance: [
                {q: 'What is the 50/30/20 budgeting rule?', o: ['50% savings, 30% needs, 20% wants', '50% needs, 30% wants, 20% savings', '50% wants, 30% savings, 20% needs', '50% invest, 30% expense, 20% emergency'], c: 1, e: '50% needs, 30% wants, 20% savings/debt.'},
                {q: 'Emergency fund should cover?', o: ['1 month', '3-6 months', '1 year', '2 years'], c: 1, e: '3-6 months of expenses recommended.'},
                {q: 'APR stands for?', o: ['Annual Percentage Rate', 'Average Payment Return', 'Auto Payment Reminder', 'Annual Profit Ratio'], c: 0, e: 'Annual Percentage Rate - yearly borrowing cost.'},
                {q: 'Safest investment type?', o: ['Stocks', 'Cryptocurrency', 'Government bonds', 'Real estate'], c: 2, e: 'Government bonds are safest, backed by government.'},
                {q: 'What is compound interest?', o: ['Interest on principal only', 'Interest on principal + interest', 'Loan interest type', 'Decreasing interest'], c: 1, e: 'Interest on principal and accumulated interest.'},
                {q: 'Diversification in investing means?', o: ['One stock only', 'Spread across assets', 'Only bonds', 'All in savings'], c: 1, e: 'Spreading investments reduces risk.'},
                {q: 'Credit score is used for?', o: ['Tax rates', 'Loan creditworthiness', 'Salary calculation', 'Investment returns'], c: 1, e: 'Assesses likelihood of loan repayment.'},
                {q: 'ROI stands for?', o: ['Rate of Income', 'Return on Investment', 'Risk of Inflation', 'Ratio of Interest'], c: 1, e: 'Return on Investment - profitability measure.'},
                {q: 'What is inflation?', o: ['Price decrease', 'Price increase', 'Stable prices', 'Tax increase'], c: 1, e: 'General price level rising over time.'},
                {q: 'What is a mutual fund?', o: ['Savings account', 'Pooled investment vehicle', 'Government loan', 'Insurance type'], c: 1, e: 'Professionally managed pooled investments.'}
            ]
        };

        let cat, qs, idx = 0, ans = [], sc = 0;

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('quizData', JSON.stringify(quizData));
            updateStats();
        }

        // Update statistics
        function updateStats() {
            document.getElementById('healthCount').textContent = quizData.health.length;
            document.getElementById('financeCount').textContent = quizData.finance.length;
            document.getElementById('totalCount').textContent = quizData.health.length + quizData.finance.length;
        }

        // Screen management
        function show(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        // Toggle admin panel
        function toggleAdmin() {
            const adminScreen = document.getElementById('admin');
            if (adminScreen.classList.contains('active')) {
                show('home');
            } else {
                show('admin');
                updateStats();
                renderQuestions();
            }
        }

        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById('tab-' + tab).classList.add('active');
        }

        // Add new question
        function addQuestion(e) {
            e.preventDefault();
            
            const category = document.getElementById('newCategory').value;
            const question = document.getElementById('newQuestion').value;
            const options = [
                document.getElementById('opt0').value,
                document.getElementById('opt1').value,
                document.getElementById('opt2').value,
                document.getElementById('opt3').value
            ];
            const correct = parseInt(document.querySelector('input[name="correct"]:checked').value);
            const explanation = document.getElementById('newExplanation').value;
            
            quizData[category].push({
                q: question,
                o: options,
                c: correct,
                e: explanation
            });
            
            saveData();
            e.target.reset();
            alert('‚úÖ Question added successfully!');
            renderQuestions();
        }

        // Delete question
        function deleteQuestion(category, index) {
            if (confirm('Are you sure you want to delete this question?')) {
                quizData[category].splice(index, 1);
                saveData();
                renderQuestions();
                alert('‚úÖ Question deleted successfully!');
            }
        }

        // Render questions in admin panel
        function renderQuestions() {
            ['health', 'finance'].forEach(category => {
                const container = document.getElementById(category + 'Questions');
                container.innerHTML = '';
                
                if (quizData[category].length === 0) {
                    container.innerHTML = '<p style="text-align: center; color: #6b7280; padding: 40px;">No questions yet. Add some questions to get started!</p>';
                    return;
                }
                
                quizData[category].forEach((q, i) => {
                    const div = document.createElement('div');
                    div.className = 'question-item';
                    div.innerHTML = `
                        <h4>Q${i + 1}: ${q.q}</h4>
                        <p style="color: #6b7280; margin: 10px 0;"><strong>Correct Answer:</strong> ${q.o[q.c]}</p>
                        <p style="color: #6b7280; font-size: 0.9rem;"><em>${q.e}</em></p>
                        <div class="meta">
                            <span class="badge ${category}">${category.charAt(0).toUpperCase() + category.slice(1)}</span>
                            <div class="actions">
                                <button class="btn-small btn-delete" onclick="deleteQuestion('${category}', ${i})">üóëÔ∏è Delete</button>
                            </div>
                        </div>
                    `;
                    container.appendChild(div);
                });
            });
        }

        // Quiz functions
        function startQuiz(c) {
            cat = c;
            if (c === 'mixed') {
                const h = [...quizData.health].sort(() => Math.random() - 0.5).slice(0, 5);
                const f = [...quizData.finance].sort(() => Math.random() - 0.5).slice(0, 5);
                qs = [...h, ...f].sort(() => Math.random() - 0.5);
            } else {
                qs = [...quizData[c]].sort(() => Math.random() - 0.5);
            }
            idx = 0;
            ans = new Array(qs.length).fill(null);
            sc = 0;
            show('quiz');
            display();
        }

        function display() {
            const q = qs[idx];
            const qCat = quizData.health.includes(q) ? 'health' : 'finance';
            document.getElementById('progress').style.width = ((idx + 1) / qs.length * 100) + '%';
            document.getElementById('qNum').textContent = `Question ${idx + 1}/${qs.length}`;
            document.getElementById('score').textContent = `Score: ${sc}`;
            const badge = document.getElementById('badge');
            badge.textContent = qCat.charAt(0).toUpperCase() + qCat.slice(1);
            badge.className = 'badge ' + qCat;
            document.getElementById('question').textContent = q.q;
            const opts = document.getElementById('options');
            opts.innerHTML = '';
            q.o.forEach((o, i) => {
                const div = document.createElement('div');
                div.className = 'option';
                div.textContent = o;
                div.onclick = () => select(i);
                if (ans[idx] === i) div.classList.add('selected');
                opts.appendChild(div);
            });
            document.getElementById('prevBtn').disabled = idx === 0;
            document.getElementById('nextBtn').disabled = ans[idx] === null;
            if (idx === qs.length - 1) {
                document.getElementById('nextBtn').style.display = 'none';
                document.getElementById('submitBtn').style.display = 'block';
            } else {
                document.getElementById('nextBtn').style.display = 'block';
                document.getElementById('submitBtn').style.display = 'none';
            }
        }

        function select(i) {
            ans[idx] = i;
            document.querySelectorAll('.option').forEach((o, j) => o.classList.toggle('selected', j === i));
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('submitBtn').disabled = false;
        }

        function prev() { if (idx > 0) { idx--; display(); } }
        function next() { if (idx < qs.length - 1) { idx++; display(); } }

        function submit() {
            sc = 0;
            ans.forEach((a, i) => { if (a === qs[i].c) sc += 10; });
            const total = qs.length;
            const corr = ans.filter((a, i) => a === qs[i].c).length;
            const acc = Math.round(corr / total * 100);
            document.getElementById('finalScore').textContent = sc;
            document.getElementById('correct').textContent = `${corr}/${total}`;
            document.getElementById('accuracy').textContent = acc + '%';
            let msg, icon;
            if (acc >= 90) { msg = 'üåü Outstanding! You have excellent knowledge!'; icon = 'üèÜ'; }
            else if (acc >= 70) { msg = 'üëè Great job! You have a good understanding!'; icon = 'üéâ'; }
            else if (acc >= 50) { msg = 'üëç Good effort! Keep learning to improve!'; icon = 'üìö'; }
            else { msg = 'üí™ Keep practicing! Review the answers to learn more!'; icon = 'üìñ'; }
            document.getElementById('icon').textContent = icon;
            document.getElementById('message').textContent = msg;
            show('results');
        }

        function review() {
            const list = document.getElementById('reviewList');
            list.innerHTML = '';
            qs.forEach((q, i) => {
                const ok = ans[i] === q.c;
                const qCat = quizData.health.includes(q) ? 'Health' : 'Finance';
                const div = document.createElement('div');
                div.className = `review-item ${ok ? 'correct' : 'incorrect'}`;
                div.innerHTML = `
                    <span class="badge ${qCat.toLowerCase()}">${qCat}</span>
                    <h3>Q${i + 1}: ${q.q}</h3>
                    ${!ok ? `<div class="ans wrong"><b>Your answer:</b> ${q.o[ans[i]]}</div>` : ''}
                    <div class="ans right"><b>${ok ? '‚úì Your answer' : 'Correct answer'}:</b> ${q.o[q.c]}</div>
                    <div class="exp"><b>Explanation:</b> ${q.e}</div>
                `;
                list.appendChild(div);
            });
            show('review-screen');
        }

        function backToResults() { show('results'); }
        function restart() { show('home'); }

        // Initialize
        updateStats();
    </script>
</body>
</html>